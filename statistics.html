<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1280">
    <link rel="stylesheet" href="static/css/style.css?date=0815">
    <link rel="icon" href="static/img/favicon.ico">
    <!-- Ïõπ Ï∞∏Ï°∞-->
    <script src="//code.jquery.com/jquery-latest.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script src="https://kit.fontawesome.com/e8a335040d.js" crossorigin="anonymous"></script>
    <script src="static/js/includeHTML.js"></script>
    <!-- Ïõπ Ìè∞Ìä∏ Ï∞∏Ï°∞-->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Courgette&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500&display=swap" rel="stylesheet">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-219523848-1"></script>
    <title>Please Graduate</title>
</head>
<body>
    <div include-html="reference/navbar.html"></div>

    <div class="gray_sec">
    <div class="container">
        <div style="font-size:4rem;">
            <i class="fas fa-graduation-cap"></i>
        </div>
        <div class="big_title">ÍøÄÍµêÏñë Ï∞æÍ∏∞</div>
        <div class="small_title">ÏÇ¨Ïö©Ïûê ÌÜµÍ≥ÑÎ•º ÌÜµÌï¥ ÍøÄÍµêÏñëÏùÑ Ï∞æÏïÑÎ≥¥Ïûê!</div>
    </div>
</div>

    <div class="white_sec">

        <!-- ÏÑ§Î™Ö Î∞ïÏä§ -->
        <div class="statistics_user_box" style='margin-top: 4rem;'>
            <div class='statistics_user_sub'>
                ÌïÑÌÑ∞ÎßÅÏùÑ ÌÜµÌï¥ Îã§Î•∏ ÏÇ¨Ïö©ÏûêÎì§Ïù¥ ÎßéÏù¥ Îì£Îäî ÍµêÏñë Í∞ïÏùòÎ•º Í≤ÄÏÉâÌï¥Î≥¥ÏÑ∏Ïöî!
            </div>
            <div class="statistics_user_main">
                ÌòÑÏû¨
                <span class='statistics_color_span'>25</span>Í∞ú ÌïôÍ≥º/Ï†ÑÍ≥µ
                <span class='statistics_color_span'>6312</span>Î™ÖÏùò ÏÇ¨Ïö©Ïûê Îç∞Ïù¥ÌÑ∞Î•º Ï∞∏Ï°∞Ìï©ÎãàÎã§.
            </div>
        </div>

        <div class="custom_box_wrap">
            <!-- Í≤ÄÏÉâÏ∞Ω Î∞ïÏä§ -->
            <div>
                <div class="my_box_grade">
                    <!-- ÌïÑÌÑ∞ÎßÅ Î∞ïÏä§ -->
                    <div style="padding:2.5rem 2.5rem 0 2.5rem">
                        <!-- ÏÉÅÎã® Ï†úÎ™© -->
                        <div class='filter_title'>
                            üìå ÌïÑÌÑ∞ÎßÅ
                        </div>
                        <!-- Íµ¨Î∂Ñ Î∞ïÏä§Îì§ -->
                        <div class="filter_wrap">
                            <form method="post" id='filter_form' name='filter_form'>
                                <!-- ÎÇ¥Î∂Ä Î∞ïÏä§ -->
                                <div class='filter_select_wrap'>

                                    <!-- ÌïôÏ†ê Î∞ïÏä§ -->
                                    <div class='filter_select_div'>
                                        <div class='filter_select_title'>ÌïôÏ†ê</div>
                                        <div class='filter_select_box'>
                                            <div class='filter_select_chk'>
                                                <label>
                                                    <input type="checkbox" name="grade[]" value="0.5" checked>
                                                    <label></label>
                                                    &nbsp;0.5 ÌïôÏ†ê
                                                </label>
                                                <br>
                                                <label>
                                                    <input type="checkbox" name="grade[]" value="1" checked>
                                                    <label></label>
                                                    &nbsp;1 ÌïôÏ†ê
                                                </label>
                                                <br>
                                                <label>
                                                    <input type="checkbox" name="grade[]" value="2" checked>
                                                    <label></label>
                                                    &nbsp;2 ÌïôÏ†ê
                                                </label>
                                                <br>
                                                <label>
                                                    <input type="checkbox" name="grade[]" value="3" checked>
                                                    <label></label>
                                                    &nbsp;3 ÌïôÏ†ê
                                                </label>

                                            </div>
                                        </div>
                                    </div>

                                    <!-- ÏÑ†ÌÉùÏòÅÏó≠ Î∞ïÏä§ -->
                                    <div class='filter_select_div'>
                                        <div class='filter_select_title'>ÏÑ†ÌÉùÏòÅÏó≠</div>
                                        <div class='filter_select_box' style="width:20rem;">
                                            <div class="filter_select_chk_wrap">
                                                <div id='selection_box' class='filter_select_chk'>
                                                    <label>
                                                        <input type="checkbox" name="selection[]" value="ÏÇ¨ÏÉÅÍ≥ºÏó≠ÏÇ¨" checked>
                                                        <label></label>
                                                        &nbsp;ÏÇ¨ÏÉÅÍ≥ºÏó≠ÏÇ¨
                                                    </label>
                                                    <br>
                                                    <label>
                                                        <input type="checkbox" name="selection[]" value="ÏÇ¨ÌöåÏôÄÎ¨∏Ìôî" checked>
                                                        <label></label>
                                                        &nbsp;ÏÇ¨ÌöåÏôÄÎ¨∏Ìôî
                                                    </label>
                                                    <br>
                                                    <label>
                                                        <input type="checkbox" name="selection[]" value="ÏûêÍ∏∞Í≥ÑÎ∞úÍ≥ºÏßÑÎ°ú" checked>
                                                        <label></label>
                                                        &nbsp;ÏûêÍ∏∞Í≥ÑÎ∞úÍ≥ºÏßÑÎ°ú<div style="margin: -0.5rem 0 0 1.6rem; font-size: 0.9rem;">(ÏúµÌï©Í≥ºÏ∞ΩÏóÖ)</div>
                                                    </label>
                                                </div>

                                                <div class='filter_select_chk'>
                                                    <label>
                                                        <input type="checkbox" name="selection[]" value="ÏûêÏó∞Í≥ºÍ≥ºÌïôÍ∏∞Ïà†" checked>
                                                        <label></label>
                                                        &nbsp;ÏûêÏó∞Í≥ºÍ≥ºÌïôÍ∏∞Ïà†
                                                    </label>
                                                    <br>
                                                    <label>
                                                        <input type="checkbox" name="selection[]" value="ÏÑ∏Í≥ÑÏôÄÏßÄÍµ¨Ï¥å" checked>
                                                        <label></label>
                                                        &nbsp;ÏÑ∏Í≥ÑÏôÄÏßÄÍµ¨Ï¥å
                                                    </label>
                                                    <br>
                                                    <label>
                                                        <input type="checkbox" name="selection[]" value="ÏòàÏà†Í≥ºÏ≤¥Ïú°" checked>
                                                        <label></label>
                                                        &nbsp;ÏòàÏà†Í≥ºÏ≤¥Ïú°
                                                    </label>
                                                    <br>
                                                    <label>
                                                        <input type="checkbox" name="selection[]" value="Í∏∞ÌÉÄ">
                                                        <label></label>
                                                        &nbsp;Í∏∞ÌÉÄÏòÅÏó≠
                                                    </label>

                                                </div>

                                            </div>

                                        </div>
                                    </div>
                                </div>
                                <!-- Í≤ÄÏÉâÎ≤ÑÌäº-->
                                <input class='filter_btn' type="button" value="Í≤ÄÏÉâÌïòÍ∏∞" onclick="ajax_get_data(); return false">
                            </form>
                        </div>

                        <!-- Í≤∞Í≥º Î∞ïÏä§ -->
                        <div style="margin-top:5rem;">
                            <div class="filter_title">
                                <div>üìú ÍµêÏñë ÏàúÏúÑ</div>
                            </div>
                            <hr>
                            <!-- Ïó¨Í∏∞Ïóê ÌÖåÏù¥Î∏îÏù¥ Ï±ÑÏõåÏßê-->
                            <div id='update_div'></div>
                            <br><br>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>

    <div include-html="reference/footer.html"></div>
</body>
<script>
    includeHTML();
    function logout() {
        var back_head = confirm('‚úã Ï†ïÎßê Î°úÍ∑∏ÏïÑÏõÉ ÌïòÏãúÍ≤†ÏäµÎãàÍπå? ‚úã');
        if (back_head) {
            location.href = '/f_logout/';
        }
    }

    ajax_get_data();

    function ajax_get_data() {

        var formData = $("#filter_form").serialize();

        let update_div = document.getElementById('update_div');
        html = "<div class='loading_wrap'><div class='circle'></div> Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò§Îäî Ï§ëÏûÖÎãàÎã§...</div>"
        update_div.innerHTML = html;

        $.ajax(
            {
                type: 'POST',
                url: '/a_statistics/',
                // Î≥¥ÎÇ¥Îäî Îç∞Ïù¥ÌÑ∞
                data: formData,
                // ÏÑ±Í≥µÏãú Î∞õÎäî Îç∞Ïù¥ÌÑ∞
                success: function (context) {
                    let zip_lecture_count = context['zip_lecture_count']

                    html = "<table class='grade_table' style='margin-top:0'>";
                    html += "<tr>";
                    html += "<th class='grade_table_th' style='width:12%'>ÌïôÏàòÎ≤àÌò∏</th>"
                    html += "<th class='grade_table_th' style='width:40%'>Í≥ºÎ™©Î™Ö</th>"
                    html += "<th class='grade_table_th' style='width:16%'>Ïù¥ÏàòÍµ¨Î∂Ñ</th>"
                    html += "<th class='grade_table_th' style='width:12%'>ÏÑ†ÌÉùÏòÅÏó≠</th>"
                    html += "<th class='grade_table_th' style='width:8%'>ÌïôÏ†ê</th>"
                    html += "<th class='grade_table_th' style='width:12%; border-right :0px'>ÏàòÍ∞ïÌöüÏàò</th>"
                    html += "</tr>";
                    for (let i = 0; i < zip_lecture_count.length; i++) {
                        lecture_info = zip_lecture_count[i][0]
                        count = zip_lecture_count[i][1]
                        html += "<tr>";
                        html += "<td class='grade_table_td'>" + lecture_info.subject_num + "</td>";
                        html += "<td class='grade_table_td'>" + lecture_info.subject_name + "</td>";
                        html += "<td class='grade_table_td'>" + lecture_info.classification + "</td>";
                        html += "<td class='grade_table_td'>" + lecture_info.selection + "</td>";
                        html += "<td class='grade_table_td'>" + lecture_info.grade + "</td>";
                        html += "<td class='grade_table_td' style='border-right :0px;'><span style='font-weight:bold; color:#17a55e;'>" +
                            count + "</span> Ìöå</td>";
                        html += "</tr>";
                    }
                    html += "</table>";


                    update_div.innerHTML = html;
                },
                // ÏóêÎü¨Ïãú ÏÑ§Ï†ï
                error: function (err) {
                    console.log(err)
                    alert('Îç∞Ïù¥ÌÑ∞Î•º Í∞ÄÏ†∏Ïò§Îäî Îç∞ ÏóêÎü¨Í∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§!');
                }
            }
        );
    }
</script>
</html>